# US Market Smart Money Screener — Track Record

> **마지막 업데이트**: YYYY-MM-DD
> **총 스냅샷**: 0회 | **총 추천 종목**: 0개 | **추적 기간**: YYYY-MM-DD ~ YYYY-MM-DD

---

## 목차

1. [업데이트 방법](#업데이트-방법)
2. [Smart Money Screener 시스템 요약](#smart-money-screener-시스템-요약)
3. [누적 성과 요약](#누적-성과-요약)
4. [스냅샷별 성과](#스냅샷별-성과)
5. [개별 종목 하이라이트](#개별-종목-하이라이트)
6. [월별 성과 추이](#월별-성과-추이)
7. [전략별 성과 분석](#전략별-성과-분석)
8. [백테스트 결과](#백테스트-결과)
9. [주간 기록 노트](#주간-기록-노트)

---

## 업데이트 방법

### 자동 업데이트 (권장)

```bash
# 1. 성과 추적 스크립트 실행
cd 국내주식
python3 us_market/performance_tracker.py

# 2. 결과 확인
# → us_market/output/performance_report.csv 생성
# → 터미널에 Win Rate, Avg Return, Alpha 출력

# 3. 이 파일에 결과를 아래 양식에 기록
```

**performance_tracker.py가 하는 일:**
1. `us_market/archive/picks_YYYYMMDD.csv`에서 과거 추천 종목 로드 (파일당 Top 10만 사용)
2. yfinance로 현재 가격 + SPY 벤치마크 가격 조회
3. 종목별 수익률 = `(현재가 - 추천가) / 추천가 × 100`
4. Alpha = 종목 수익률 - SPY 동기간 수익률
5. 결과를 `us_market/output/performance_report.csv`에 저장

### 수동 업데이트 (대시보드)

1. 대시보드 접속: `http://localhost:3000/dashboard/us/cumulative-performance`
2. **Stats Cards** (상단 8개 카드)의 수치 → [누적 성과 요약](#누적-성과-요약)에 기록
3. **Performance by Snapshot Date** 테이블 → [스냅샷별 성과](#스냅샷별-성과)에 기록
4. **Individual Picks** 테이블에서 상위/하위 종목 → [개별 종목 하이라이트](#개별-종목-하이라이트)에 기록
5. **Cumulative Returns 차트** 스크린샷 저장 (선택사항)

### 데이터 소스 파일 위치

| 파일 | 위치 | 설명 |
|------|------|------|
| 스냅샷 아카이브 | `us_market/history/picks_YYYY-MM-DD.json` | 날짜별 추천 종목 스냅샷 |
| 성과 리포트 | `us_market/output/performance_report.csv` | 성과 추적 결과 CSV |
| 일별 가격 | `us_market/data/us_daily_prices.csv` | 종목 현재가 캐시 |
| AI 분석 | `us_market/output/ai_summaries.json` | AI 요약 텍스트 |
| 스크리너 결과 | `us_market/output/smart_money_picks_v2.csv` | 최신 스크리닝 결과 |

---

## Smart Money Screener 시스템 요약

> 이 시스템이 어떻게 종목을 선정하는지 이해하면 성과를 더 잘 분석할 수 있습니다.

### 6-Factor Composite Score (100점 만점)

종합점수는 6개 팩터의 가중 합산으로 계산됩니다:

| 팩터 | 가중치 | 데이터 소스 | 설명 |
|------|--------|------------|------|
| **Supply/Demand (수급)** | 25% | 거래량 분석 + Z-score 정규화 | 수급 단계 (Accumulation/Markup/Distribution 등) |
| **Institutional (기관)** | 20% | SEC 13F 공시 | 기관 보유 비율 변화, 순매수 금액 |
| **Technical (기술적)** | 20% | RSI, MACD, MA20/50/200 | RSI 과매수/과매도, MACD 크로스, 이동평균 배열 |
| **Fundamental (펀더멘털)** | 15% | yfinance 재무 데이터 | PER, 매출성장률, ROE, 배당수익률 |
| **Analyst (애널리스트)** | 10% | yfinance 컨센서스 | 목표가 괴리율, 매수/매도 추천, 커버리지 수 |
| **Relative Strength (상대강도)** | 10% | SPY 대비 20일/60일 수익률 | S&P 500 대비 초과 수익률 |

### 등급 시스템

| 등급 | Composite Score | 의미 | 추천 |
|------|----------------|------|------|
| **S급** | 80점 이상 | 모든 팩터 강세 | 즉시 매수 |
| **A급** | 70~79점 | 대부분 팩터 우수 | 적극 매수 |
| **B급** | 60~69점 | 평균 이상 | 매수 고려 |
| **C급** | 50~59점 | 평균 수준 | 관망 |
| **D급** | 40~49점 | 약세 신호 | 주의 |
| **F급** | 40점 미만 | 다수 팩터 약세 | 회피 |

### 전략 유형 (Dual Score 기반)

시스템은 Swing Score와 Trend Score를 별도 계산합니다:

- **Swing Score**: Volume(40%) + Technical(30%) + RS(30%) — 단기 모멘텀
- **Trend Score**: Institutional(35%) + Fundamental(35%) + Technical(30%) — 중기 성장

| 전략 | 조건 | 특징 |
|------|------|------|
| **Hybrid** | Swing ≥ 75 AND Trend ≥ 75 | 단기+중기 모두 강세 (최고 등급) |
| **Swing** | Swing > Trend | 단기 모멘텀 우위 |
| **Trend** | Trend ≥ Swing | 중장기 성장 우위 |

### Setup 유형

| 셋업 | 조건 | 특징 |
|------|------|------|
| **Parabolic** | RSI > 80 | 과열 구간, 차익실현 주의 |
| **Pullback** | MA 정배열 + RSI 40~60 | 눌림목 매수 기회 |
| **Breakout / Momentum** | MA 정배열 + RSI > 60 | 돌파 진행 중 |
| **Downtrend** | MA 역배열 | 하락 추세, 매수 지양 |
| **Base / Neutral** | 기타 | 횡보/기저 형성 중 |

### 사전 필터링

- Supply/Demand Score ≥ 50인 종목만 전체 분석 대상으로 진행
- 13F 공시는 Look-Ahead Bias 방지를 위해 **오늘 이전 공시 데이터만** 사용 (45일 지연 반영)

---

## 누적 성과 요약

> 대시보드 상단 Stats Cards 또는 `performance_tracker.py` 실행 결과를 기록합니다.

| 지표 | 값 | 설명 |
|------|-----|------|
| **Total Picks** | — | 전체 추천 종목 수 (스냅샷별 Top 10, 중복 포함) |
| **Unique Tickers** | — | 고유 종목 수 (중복 제거) |
| **Win Rate** | —% | 수익 종목 비율 (`수익 종목 수 / 전체` × 100) |
| **Avg Return** | —% | 전체 평균 수익률 (소수점 2자리) |
| **Alpha vs SPY** | —% | 평균 초과 수익 (`Avg Return - SPY 동기간 수익률`) |
| **Max Gain** | —% (Ticker: —) | 최고 수익 종목 + 수익률 |
| **Max Loss** | —% (Ticker: —) | 최대 손실 종목 + 손실률 |
| **Snapshots** | — | 추천 기록 횟수 (날짜별 스냅샷 수) |

---

## 스냅샷별 성과

> 각 스냅샷(추천일)별 성과를 기록합니다.
> 대시보드의 **Performance by Snapshot Date** 테이블에서 가져옵니다.
> 최신이 위로 오도록 역순 기록합니다.

| 추천일 | 종목 수 | Avg Return | SPY Return | Alpha | Win Rate | 비고 |
|--------|---------|------------|------------|-------|----------|------|
| <!-- 예시: 2026-02-14 | 10 | +5.23% | +2.10% | +3.13% | 70.0% | 반도체 강세 --> |
| <!-- 예시: 2026-02-07 | 10 | +3.15% | +1.80% | +1.35% | 60.0% | 시장 횡보 --> |
| <!-- 예시: 2026-01-31 | 10 | -1.20% | -0.50% | -0.70% | 40.0% | FOMC 금리 이슈 --> |

<!--
기록 방법:
1. performance_tracker.py 실행 또는 대시보드 확인
2. 새 스냅샷 행을 위에 추가 (최신이 위)
3. Alpha = Avg Return - SPY Return
4. 종목 수는 해당 날짜의 Top 10 추천 수 (보통 10)
5. 비고에 시장 특이사항 메모 (FOMC, 어닝, 섹터 이슈 등)
-->

---

## 개별 종목 하이라이트

> 대시보드 Individual Picks 테이블에서 수익률 기준 상위/하위 종목을 기록합니다.

### Best Performers (Top 10)

| # | Ticker | 종목명 | 추천일 | 추천가 | 현재가 | 수익률 | Score | 등급 | 전략 | 추천 |
|---|--------|--------|--------|--------|--------|--------|-------|------|------|------|
| 1 | <!-- NVDA | NVIDIA | 2026-01-15 | $120.50 | $145.30 | +20.6% | 85 | S | Hybrid | 즉시 매수 --> |
| 2 | | | | | | | | | | |
| 3 | | | | | | | | | | |
| 4 | | | | | | | | | | |
| 5 | | | | | | | | | | |
| 6 | | | | | | | | | | |
| 7 | | | | | | | | | | |
| 8 | | | | | | | | | | |
| 9 | | | | | | | | | | |
| 10 | | | | | | | | | | |

### Worst Performers (Bottom 10)

| # | Ticker | 종목명 | 추천일 | 추천가 | 현재가 | 수익률 | Score | 등급 | 전략 | 추천 |
|---|--------|--------|--------|--------|--------|--------|-------|------|------|------|
| 1 | <!-- XYZ | XYZ Corp | 2026-01-15 | $50.00 | $42.50 | -15.0% | 62 | B | Swing | 매수 고려 --> |
| 2 | | | | | | | | | | |
| 3 | | | | | | | | | | |
| 4 | | | | | | | | | | |
| 5 | | | | | | | | | | |
| 6 | | | | | | | | | | |
| 7 | | | | | | | | | | |
| 8 | | | | | | | | | | |
| 9 | | | | | | | | | | |
| 10 | | | | | | | | | | |

<!--
기록 방법:
- 대시보드에서 Individual Picks 테이블을 Return 기준 정렬
- WIN 필터로 상위 10개, LOSS 필터로 하위 10개 선택
- Score: Composite Score (0~100), 등급: S/A/B/C/D/F
- 전략: Hybrid/Swing/Trend
- 추천: 시스템의 AI 추천 텍스트
-->

---

## 월별 성과 추이

> 월 단위로 성과를 집계하여 추세를 파악합니다.

| 월 | 추천 수 | Win Rate | Avg Return | Alpha vs SPY | Best Pick | Worst Pick | 비고 |
|----|---------|----------|------------|--------------|-----------|------------|------|
| <!-- 2026-02 | 40 | 65% | +4.2% | +2.8% | NVDA +20% | XYZ -8% | 반도체 강세 --> |
| <!-- 2026-01 | 40 | 58% | +2.1% | +0.5% | AAPL +12% | ABC -5% | 시장 횡보 --> |

<!--
집계 방법:
- 해당 월의 모든 스냅샷을 합산
- 추천 수 = 해당 월 전체 종목 수 (보통 주당 10개 × 4주 = 약 40개)
- Win Rate/Avg Return/Alpha는 해당 월 전체 종목 기준
- Best/Worst는 해당 월 최고/최저 수익 종목
-->

---

## 전략별 성과 분석

> Smart Money Screener의 팩터별/등급별 성과 분석입니다.
> 어떤 조건의 종목이 가장 좋은 성과를 내는지 파악할 수 있습니다.

### 등급별 성과 (Composite Score 기준)

| 등급 | Score 범위 | 종목 수 | Win Rate | Avg Return | Avg Alpha | 비고 |
|------|-----------|---------|----------|------------|-----------|------|
| S급 | 80+ | — | —% | —% | —% | |
| A급 | 70~79 | — | —% | —% | —% | |
| B급 | 60~69 | — | —% | —% | —% | |
| C급 | 50~59 | — | —% | —% | —% | |
| D급 | 40~49 | — | —% | —% | —% | |

### 전략 유형별 성과

| 전략 | 종목 수 | Win Rate | Avg Return | Avg Alpha | 비고 |
|------|---------|----------|------------|-----------|------|
| Hybrid (Swing ≥75 & Trend ≥75) | — | —% | —% | —% | |
| Swing (단기 모멘텀 우위) | — | —% | —% | —% | |
| Trend (중기 성장 우위) | — | —% | —% | —% | |

### Setup 유형별 성과

| Setup | 종목 수 | Win Rate | Avg Return | 비고 |
|-------|---------|----------|------------|------|
| Breakout / Momentum | — | —% | —% | MA 정배열 + RSI > 60 |
| Pullback (눌림목) | — | —% | —% | MA 정배열 + RSI 40~60 |
| Base / Neutral | — | —% | —% | 횡보/기저 형성 |
| Parabolic (과열) | — | —% | —% | RSI > 80, 주의 필요 |
| Downtrend | — | —% | —% | MA 역배열 |

### Supply/Demand Stage별 성과

| Stage | 종목 수 | Win Rate | Avg Return | Avg Alpha | 비고 |
|-------|---------|----------|------------|-----------|------|
| Accumulation (매집) | — | —% | —% | —% | 스마트머니 유입 |
| Markup (상승) | — | —% | —% | —% | 본격 상승 구간 |
| Distribution (분배) | — | —% | —% | —% | 고점 매도 징후 |
| Markdown (하락) | — | —% | —% | —% | 하락 추세 |

### 6-Factor 개별 팩터 기여도

> 각 팩터 점수가 높은 종목 vs 낮은 종목의 승률 차이를 분석합니다.

| 팩터 (가중치) | 고점수 (70+) Win Rate | 저점수 (<50) Win Rate | 차이 | 유효성 |
|---------------|----------------------|----------------------|------|--------|
| Supply/Demand (25%) | —% | —% | —%p | — |
| Institutional (20%) | —% | —% | —%p | — |
| Technical (20%) | —% | —% | —%p | — |
| Fundamental (15%) | —% | —% | —%p | — |
| Analyst (10%) | —% | —% | —%p | — |
| Rel. Strength (10%) | —% | —% | —%p | — |

<!--
유효성 판정 기준:
- 차이 ≥ 15%p → "매우 유효"
- 차이 10~14%p → "유효"
- 차이 5~9%p → "약간 유효"
- 차이 < 5%p → "미미" (가중치 조정 검토)
-->

### RSI 구간별 성과

| RSI 구간 | 종목 수 | Win Rate | Avg Return | 비고 |
|----------|---------|----------|------------|------|
| 과매도 (< 30) | — | —% | —% | 반등 기대 |
| 저점 (30~45) | — | —% | —% | |
| 중립 (45~60) | — | —% | —% | |
| 상승 (60~70) | — | —% | —% | |
| 과열 (> 70) | — | —% | —% | 차익실현 주의 |

### 섹터별 성과

| 섹터 | 추천 수 | Win Rate | Avg Return | Avg Alpha | 비고 |
|------|---------|----------|------------|-----------|------|
| Technology | — | —% | —% | —% | |
| Healthcare | — | —% | —% | —% | |
| Financials | — | —% | —% | —% | |
| Consumer Discretionary | — | —% | —% | —% | |
| Industrials | — | —% | —% | —% | |
| Energy | — | —% | —% | —% | |
| Communication Services | — | —% | —% | —% | |
| Consumer Staples | — | —% | —% | —% | |
| Materials | — | —% | —% | —% | |
| Utilities | — | —% | —% | —% | |
| Real Estate | — | —% | —% | —% | |

### 시가총액 규모별 성과

| 규모 | 기준 | 종목 수 | Win Rate | Avg Return | 비고 |
|------|------|---------|----------|------------|------|
| Mega Cap | $200B+ | — | —% | —% | |
| Large Cap | $10B~200B | — | —% | —% | |
| Mid Cap | $2B~10B | — | —% | —% | |
| Small Cap | $300M~2B | — | —% | —% | |
| Micro Cap | < $300M | — | —% | —% | |

---

## 백테스트 결과

> `backtest_engine.py` 실행 결과를 기록합니다.

```bash
# 백테스트 실행
python3 us_market/backtest_engine.py
```

### 수익률 비교

| 지표 | Smart Money Portfolio | SPY | QQQ |
|------|----------------------|-----|-----|
| **Total Return** | —% | —% | —% |
| **Annualized Return** | —% | —% | —% |
| **Volatility (Std Dev)** | —% | —% | —% |
| **Sharpe Ratio** | — | — | — |
| **Sortino Ratio** | — | — | — |
| **Max Drawdown** | —% | —% | —% |
| **Win Rate (Daily)** | —% | — | — |
| **Best Day** | —% | — | — |
| **Worst Day** | —% | — | — |
| **Alpha vs SPY** | — | — | — |
| **Alpha vs QQQ** | — | — | — |

### 백테스트 설정

| 항목 | 값 |
|------|-----|
| **기간** | YYYY-MM-DD ~ YYYY-MM-DD |
| **초기 자본** | $100,000 |
| **거래 비용** | 0.1% per trade |
| **리밸런싱** | 30일 |
| **포트폴리오 종목 수** | — |
| **전략** | Smart Money Top 10 동일 비중 |

### 월별 수익률 히트맵

| 월 | Portfolio | SPY | Alpha | MDD |
|----|-----------|-----|-------|-----|
| <!-- 2026-02 | +3.2% | +1.5% | +1.7% | -2.1% --> |
| <!-- 2026-01 | +1.8% | +2.0% | -0.2% | -3.5% --> |

---

## 주간 기록 노트

> 매주 시장 상황과 전략 성과에 대한 간단한 메모를 남깁니다.
> 주간 단위 기록을 통해 시장 사이클과 전략 적합성을 파악할 수 있습니다.

### Week of YYYY-MM-DD

**시장 상황**:
- SPY: +—% (주간) | VIX: —
- 주요 섹터: (예: 반도체 +5%, 에너지 -2%)
- 10Y 국채: —% | 달러인덱스: —

**이번 주 추천 (Top 10)**:
| Ticker | Score | 등급 | 전략 | Setup |
|--------|-------|------|------|-------|
| — | — | — | — | — |

**특이사항**: (예: FOMC 금리 동결, CPI 발표, 빅테크 어닝)

**성과 점검**:
- 지난주 추천 대비 이번 주 수익률: +—%
- 특히 좋았던 종목: — (+—%)
- 특히 나빴던 종목: — (-—%)

**배운 점 & 개선사항**:
- (예: S급 종목 중 Parabolic Setup은 단기 조정 후 매수가 유리)
- (예: Supply/Demand Score가 높아도 RSI 80+ 구간은 진입 지양)

---

## 분석 인사이트 정리

> 장기간 운용하면서 발견한 패턴과 인사이트를 정리합니다.

### 효과적인 조합

| # | 조합 조건 | 관찰 기간 | Win Rate | Avg Return | 비고 |
|---|----------|----------|----------|------------|------|
| 1 | <!-- 예: S급 + Hybrid + Pullback → 가장 높은 수익률 --> | | | | |
| 2 | <!-- 예: A급 이상 + Trend + Accumulation → 안정적 수익 --> | | | | |
| 3 | | | | | |

### 피해야 할 조합

| # | 조합 조건 | 관찰 기간 | Win Rate | Avg Return | 비고 |
|---|----------|----------|----------|------------|------|
| 1 | <!-- 예: B급 이하 + Parabolic → 대부분 손실 --> | | | | |
| 2 | <!-- 예: RSI 80+ + Distribution Stage → 고점 추격 --> | | | | |
| 3 | | | | | |

### 시장 상황별 전략 적합성

| 시장 상황 | 유리한 전략 | 불리한 전략 | 비고 |
|-----------|-----------|-----------|------|
| 강세장 (SPY 상승) | <!-- Swing, Momentum --> | | |
| 약세장 (SPY 하락) | <!-- Trend, Pullback --> | | |
| 횡보장 (SPY 보합) | <!-- Base, Neutral --> | | |
| 고변동성 (VIX > 25) | | | |

---

<!--
## 기록 팁

1. **일관성**: 매주 같은 요일(예: 금요일)에 업데이트하세요
2. **솔직함**: 손실도 정직하게 기록하세요. 패턴을 발견하는 데 도움됩니다
3. **비교**: Alpha(SPY 대비 초과수익)가 가장 중요한 지표입니다
4. **등급별 분석**: S/A급 종목만 따로 추적하면 전략 유효성을 더 잘 판단할 수 있습니다
5. **전략 유형 주목**: Hybrid가 항상 좋은지, 특정 시장에서 Swing이 유리한지 관찰하세요
6. **Setup 유형**: Pullback에서 진입한 종목과 Parabolic에서 진입한 종목의 성과 차이를 비교하세요
7. **팩터 유효성**: 어떤 팩터(Supply/Demand, Institutional 등)의 점수가 실제 수익과 가장 상관이 높은지 확인하세요
8. **자동화**: performance_tracker.py를 정기적으로 실행하면 수동 입력을 줄일 수 있습니다
9. **3개월 단위**: 최소 3개월 데이터가 쌓인 후 전략별 분석의 의미가 생깁니다
10. **시장 사이클**: 강세/약세/횡보 구간별로 어떤 전략이 효과적인지 기록하면 리밸런싱에 활용할 수 있습니다
-->
